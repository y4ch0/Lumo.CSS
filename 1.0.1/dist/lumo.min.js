document.addEventListener("DOMContentLoaded",()=>{const modalAnimationDuration=300;function animateModal(dialog,direction,onFinishCallback){const modalBody=dialog.querySelector("section");const isOpening=direction==="open";const opacityKeyframes=[{opacity:isOpening?"0":"1"},{opacity:isOpening?"1":"0"}];const transformKeyframes=[{transform:`translateY(${isOpening ? "-3rem" : "0"})`},{transform:`translateY(${isOpening ? "0" : "-3rem"})`}];const animation=new Animation(new KeyframeEffect(dialog,opacityKeyframes,{duration:modalAnimationDuration,easing:"ease",}),document.timeline);const animation1=new Animation(new KeyframeEffect(modalBody,transformKeyframes,{duration:modalAnimationDuration,easing:"ease",}),document.timeline);animation.play();animation1.play();if(!isOpening){animation.onfinish=()=>{dialog.close();if(onFinishCallback){onFinishCallback()}}}}
function openModal(modal){modal.setAttribute("open","open");animateModal(modal,"open")}
function closeModal(modal,callback){animateModal(modal,"close",callback)}
document.addEventListener("click",(event)=>{const{target}=event;const openTrigger=target.closest("[data-target]");const closeTrigger=target.closest("[data-close]");const currentlyOpenModal=document.querySelector("dialog[open]");if(openTrigger){event.preventDefault();const modalId=openTrigger.getAttribute("data-target");const modalToOpen=document.getElementById(modalId);if(modalToOpen){if(currentlyOpenModal&&currentlyOpenModal!==modalToOpen){closeModal(currentlyOpenModal,()=>openModal(modalToOpen))}else if(!currentlyOpenModal){openModal(modalToOpen)}}
return}
if(currentlyOpenModal){const isBackgroundClick=target.matches("dialog[open]");const isLocked=currentlyOpenModal.hasAttribute("data-locked");if(closeTrigger||(isBackgroundClick&&!isLocked)){closeModal(currentlyOpenModal)}}});document.addEventListener("keydown",(event)=>{if(event.key==="Escape"){const openModalElement=document.querySelector("dialog[open]");if(openModalElement&&!openModalElement.hasAttribute("data-locked")){closeModal(openModalElement)}}});document.addEventListener("click",(event)=>{const isClickInsideDropdown=event.target.closest("details.dropdown[open]");if(!isClickInsideDropdown){document.querySelectorAll("details.dropdown[open]").forEach((dropdown)=>{dropdown.removeAttribute("open")})}});const navButton=document.querySelector("header nav > button[role='menu']");const navList=document.querySelector("header nav > ul");const navList1=document.querySelector("body>nav>.container>ul");const navCloseButton=document.querySelector("header nav ul button[aria-label='close']");const navCloseButton1=document.querySelector("body>nav>.container>ul button[aria-label='close']");function toggleNavbar(){if(navList){const isVisible=navList.style.display==="flex";navList.style.display=isVisible?"none":"flex"}else if(navList1){const isVisible=navList1.style.display==="flex";navList1.style.display=isVisible?"none":"flex"}}
if(navButton){navButton.addEventListener("click",toggleNavbar)}
if(navCloseButton){navCloseButton.addEventListener("click",toggleNavbar)}else if(navCloseButton1){navCloseButton1.addEventListener("click",toggleNavbar)}
const tabsComponents=document.querySelectorAll("article.tabs");tabsComponents.forEach((component)=>{const tabsList=component.querySelector('[role="tablist"]');const tabs=tabsList.querySelectorAll('[role="tab"]');const tabPanelsContainer=component.querySelector(".tabs-content");const tabPanels=tabPanelsContainer.querySelectorAll('[role="tabpanel"]');function hideAllTabsAndPanels(){tabs.forEach((tab)=>tab.setAttribute("aria-selected","false"));tabPanels.forEach((panel)=>panel.setAttribute("hidden",""))}
tabs.forEach((tab,index)=>{tab.addEventListener("click",()=>{hideAllTabsAndPanels();tab.setAttribute("aria-selected","true");tabPanels[index].removeAttribute("hidden")});tab.addEventListener("keydown",(event)=>{const currentIndex=Array.from(tabs).indexOf(event.currentTarget);let nextIndex=currentIndex;switch(event.key){case "ArrowRight":nextIndex=(currentIndex+1)%tabs.length;break;case "ArrowLeft":nextIndex=(currentIndex-1+tabs.length)%tabs.length;break;case "Home":nextIndex=0;break;case "End":nextIndex=tabs.length-1;break;default:return}
event.preventDefault();tabs[nextIndex].click();tabs[nextIndex].focus()})})});document.querySelectorAll('[aria-roledescription="carousel"]').forEach((carousel)=>{const figure=carousel.querySelector('figure[role="group"]');const slides=figure.querySelectorAll('[aria-roledescription="slide"]');const prevBtn=carousel.querySelector("[data-prev]");const nextBtn=carousel.querySelector("[data-next]");let indicatorsList=carousel.querySelector('[role="tablist"]');let index=0;if(!indicatorsList){indicatorsList=document.createElement("ol");indicatorsList.setAttribute("role","tablist");indicatorsList.setAttribute("aria-label","Slide indicators");slides.forEach((_,n)=>{const li=document.createElement("li");const btn=document.createElement("button");btn.setAttribute("role","tab");btn.setAttribute("aria-label",`Slide ${n + 1}`);btn.setAttribute("aria-selected",n===0?"true":"false");btn.tabIndex=n===0?0:-1;li.appendChild(btn);indicatorsList.appendChild(li)});carousel.appendChild(indicatorsList)}
const indicators=indicatorsList.querySelectorAll('[role="tab"]');function getGap(){const style=getComputedStyle(figure);const gapVal=style.gap||style.columnGap||"0px";return parseFloat(gapVal)||0}
function showSlide(i){index=Math.max(0,Math.min(i,slides.length-1));const slideWidth=slides[0].offsetWidth;const gap=getGap();const offset=index*(slideWidth+gap);figure.style.transform=`translateX(-${offset}px)`;indicators.forEach((btn,n)=>{const active=n===index;btn.setAttribute("aria-selected",active);btn.tabIndex=active?0:-1});if(prevBtn)prevBtn.disabled=index===0;if(nextBtn)nextBtn.disabled=index===slides.length-1}
function nextSlide(){if(index<slides.length-1)showSlide(index+1);}
function prevSlide(){if(index>0)showSlide(index-1);}
indicators.forEach((btn,n)=>{btn.addEventListener("click",()=>showSlide(n));btn.addEventListener("focus",()=>{index=n});btn.addEventListener("keydown",(e)=>{if(["ArrowLeft","ArrowRight","Home","End"].includes(e.key)){e.preventDefault();e.stopPropagation();if(e.key==="ArrowLeft")prevSlide();else if(e.key==="ArrowRight")nextSlide();else if(e.key==="Home")showSlide(0);else if(e.key==="End")showSlide(slides.length-1);indicators[index].focus()}})});carousel.addEventListener("keydown",(e)=>{if(document.activeElement.closest('[role="tablist"]')===indicatorsList)return;if(e.key==="ArrowLeft"){e.preventDefault();prevSlide()}else if(e.key==="ArrowRight"){e.preventDefault();nextSlide()}});nextBtn?.addEventListener("click",nextSlide);prevBtn?.addEventListener("click",prevSlide);carousel.tabIndex=0;showSlide(index);window.addEventListener("resize",()=>{showSlide(index)})});document.querySelectorAll('[aria-roledescription="carousel"]').forEach((carousel)=>{const zBase=parseInt(getComputedStyle(carousel).zIndex)||0;carousel.querySelectorAll("[data-prev],[data-next]").forEach((btn)=>{btn.style.zIndex=zBase+1})})})