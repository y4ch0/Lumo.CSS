document.addEventListener("DOMContentLoaded",()=>{const modalAnimationDuration=300;function animateModal(dialog,direction){const modalBody=dialog.querySelector("section");const isOpening=direction==="open";const opacityKeyframes=[{opacity:isOpening?"0":"1"},{opacity:isOpening?"1":"0"}];const transformKeyframes=[{transform:`translateY(${isOpening ? "-3rem" : "0"})`},{transform:`translateY(${isOpening ? "0" : "-3rem"})`}];const animation=new Animation(new KeyframeEffect(dialog,opacityKeyframes,{duration:modalAnimationDuration,easing:"ease",}),document.timeline);const animation1=new Animation(new KeyframeEffect(modalBody,transformKeyframes,{duration:modalAnimationDuration,easing:"ease",}),document.timeline);animation.play();animation1.play();if(!isOpening){animation.onfinish=()=>dialog.close()}}
function openModal(modal){modal.setAttribute("open","open");animateModal(modal,"open")}
function closeModal(modal){animateModal(modal,"close")}
document.addEventListener("click",(event)=>{const{target}=event;const openTrigger=target.closest("[data-target]");const closeTrigger=target.closest("[data-close]");const isBackgroundClick=target.matches("dialog[open]");if(openTrigger){const modalId=openTrigger.getAttribute("data-target");const modal=document.getElementById(modalId);if(modal){openModal(modal)}}else if(closeTrigger||isBackgroundClick){const openModalElement=document.querySelector("dialog[open]");if(openModalElement){closeModal(openModalElement)}}});document.addEventListener("keydown",(event)=>{if(event.key==="Escape"){const openModalElement=document.querySelector("dialog[open]");if(openModalElement){closeModal(openModalElement)}}});document.addEventListener("click",(event)=>{const isClickInsideDropdown=event.target.closest("details.dropdown[open]");if(!isClickInsideDropdown){document.querySelectorAll("details.dropdown[open]").forEach((dropdown)=>{dropdown.removeAttribute("open")})}});const navButton=document.querySelector("header nav > button[role='menu']");const navList=document.querySelector("header nav > ul");const navCloseButton=document.querySelector("header nav ul button[aria-label='close']");function toggleNavbar(){if(navList){const isVisible=navList.style.display==="flex";navList.style.display=isVisible?"none":"flex"}}
if(navButton){navButton.addEventListener("click",toggleNavbar)}
if(navCloseButton){navCloseButton.addEventListener("click",toggleNavbar)}})